{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport ShoppingCart from '../src/pages/ShoppingCartPage.vue';\nimport ProductPage from './pages/ProductPage.vue';\nimport ProductDetailPage from './pages/ProductDetailPage.vue';\nimport NotFoundPage from './pages/NotFoundPage.vue';\nimport loginPage from './pages/LoginPage.vue';\nimport registerPage from './pages/RegisterPage.vue';\nimport SuccessPage from './pages/SuccessPage.vue';\nimport ErrorPage from './pages/PaymentErrorPage.vue';\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: [{\n    path: '/',\n    component: registerPage\n  }, {\n    path: '/login',\n    component: loginPage\n  }, {\n    path: '/register',\n    component: registerPage\n  }, {\n    path: '/product',\n    component: ProductPage\n  }, {\n    path: '/cart',\n    component: ShoppingCart\n  }, {\n    path: '/success',\n    component: SuccessPage\n  }, {\n    path: '/error',\n    component: ErrorPage\n  }, {\n    path: '/product/:productId',\n    component: ProductDetailPage\n  }, {\n    path: '/:pathMatch(.*)*',\n    component: NotFoundPage\n  }]\n});\nrouter.beforeEach(async (to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    //Authentication check\n    const token = localStorage.getItem('token');\n    if (token) {\n      return next();\n    }\n    return next('/login');\n  }\n  next();\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","ShoppingCart","ProductPage","ProductDetailPage","NotFoundPage","loginPage","registerPage","SuccessPage","ErrorPage","router","history","routes","path","component","beforeEach","to","from","next","matched","some","record","meta","requiresAuth","token","localStorage","getItem"],"sources":["/Users/priyanshuprajapati/Documents/FULLSTACK_PROJECT/src/router.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\n\nimport ShoppingCart from '../src/pages/ShoppingCartPage.vue';\nimport ProductPage from './pages/ProductPage.vue';\nimport ProductDetailPage from './pages/ProductDetailPage.vue';\nimport NotFoundPage from './pages/NotFoundPage.vue';\nimport loginPage from './pages/LoginPage.vue';\nimport registerPage from './pages/RegisterPage.vue';\nimport SuccessPage from './pages/SuccessPage.vue';\nimport ErrorPage from './pages/PaymentErrorPage.vue';\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: [\n    { path: '/', component: registerPage,},\n    { path: '/login', component: loginPage },\n    { path: '/register', component: registerPage },\n    { path: '/product', component: ProductPage },\n    { path: '/cart', component: ShoppingCart },\n    { path: '/success', component: SuccessPage },\n    { path: '/error', component: ErrorPage},\n    { path: '/product/:productId', component: ProductDetailPage },\n    { path: '/:pathMatch(.*)*', component: NotFoundPage },\n  ]\n});\n\nrouter.beforeEach(async (to, from, next) => {\n  if(to.matched.some(record => record.meta.requiresAuth)){\n    //Authentication check\n    const token = localStorage.getItem('token');\n\n    if (token) {\n      return next()\n    }\n    \n    return next('/login')\n  } \n  next();\n})\n\nexport default router;"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAE3D,OAAOC,YAAY,MAAM,mCAAmC;AAC5D,OAAOC,WAAW,MAAM,yBAAyB;AACjD,OAAOC,iBAAiB,MAAM,+BAA+B;AAC7D,OAAOC,YAAY,MAAM,0BAA0B;AACnD,OAAOC,SAAS,MAAM,uBAAuB;AAC7C,OAAOC,YAAY,MAAM,0BAA0B;AACnD,OAAOC,WAAW,MAAM,yBAAyB;AACjD,OAAOC,SAAS,MAAM,8BAA8B;AAEpD,MAAMC,MAAM,GAAGV,YAAY,CAAC;EAC1BW,OAAO,EAAEV,gBAAgB,CAAC,CAAC;EAC3BW,MAAM,EAAE,CACN;IAAEC,IAAI,EAAE,GAAG;IAAEC,SAAS,EAAEP;EAAa,CAAC,EACtC;IAAEM,IAAI,EAAE,QAAQ;IAAEC,SAAS,EAAER;EAAU,CAAC,EACxC;IAAEO,IAAI,EAAE,WAAW;IAAEC,SAAS,EAAEP;EAAa,CAAC,EAC9C;IAAEM,IAAI,EAAE,UAAU;IAAEC,SAAS,EAAEX;EAAY,CAAC,EAC5C;IAAEU,IAAI,EAAE,OAAO;IAAEC,SAAS,EAAEZ;EAAa,CAAC,EAC1C;IAAEW,IAAI,EAAE,UAAU;IAAEC,SAAS,EAAEN;EAAY,CAAC,EAC5C;IAAEK,IAAI,EAAE,QAAQ;IAAEC,SAAS,EAAEL;EAAS,CAAC,EACvC;IAAEI,IAAI,EAAE,qBAAqB;IAAEC,SAAS,EAAEV;EAAkB,CAAC,EAC7D;IAAES,IAAI,EAAE,kBAAkB;IAAEC,SAAS,EAAET;EAAa,CAAC;AAEzD,CAAC,CAAC;AAEFK,MAAM,CAACK,UAAU,CAAC,OAAOC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAC1C,IAAGF,EAAE,CAACG,OAAO,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACC,IAAI,CAACC,YAAY,CAAC,EAAC;IACrD;IACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3C,IAAIF,KAAK,EAAE;MACT,OAAON,IAAI,CAAC,CAAC;IACf;IAEA,OAAOA,IAAI,CAAC,QAAQ,CAAC;EACvB;EACAA,IAAI,CAAC,CAAC;AACR,CAAC,CAAC;AAEF,eAAeR,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}